<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>BSPACM: sFIFO Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">BSPACM
   &#160;<span id="projectnumber">20140408</span>
   </div>
   <div id="projectbrief">Board Support Package for ARM Cortex-M Microcontrollers</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">sFIFO Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="fifo_8h_source.html">bspacm/internal/utility/fifo.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a2d28ad8a22368fa28a8de9f49b9d91a5"><td class="memItemLeft" align="right" valign="top">volatile uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsFIFO.html#a2d28ad8a22368fa28a8de9f49b9d91a5">head</a></td></tr>
<tr class="separator:a2d28ad8a22368fa28a8de9f49b9d91a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a934091a75b0a7ca960c09a1104359da3"><td class="memItemLeft" align="right" valign="top">volatile uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsFIFO.html#a934091a75b0a7ca960c09a1104359da3">tail</a></td></tr>
<tr class="separator:a934091a75b0a7ca960c09a1104359da3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dffbef44feb99505b98393820e33e8c"><td class="memItemLeft" align="right" valign="top">const uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsFIFO.html#a9dffbef44feb99505b98393820e33e8c">size</a></td></tr>
<tr class="separator:a9dffbef44feb99505b98393820e33e8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80020eb96c286114b0d1786ad565d8fe"><td class="memItemLeft" align="right" valign="top">volatile uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsFIFO.html#a80020eb96c286114b0d1786ad565d8fe">cell</a> []</td></tr>
<tr class="separator:a80020eb96c286114b0d1786ad565d8fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Data structure for a first-in-first-out circular buffer of arbitrary size, holding octet (<code>uint8_t</code>) values.</p>
<p>This struct uses the flexible array capability standardized in C99, along with the <a class="el" href="fifo_8h.html#ac0b054d67fce60479c1b95b71c1b24c0">FIFO_DEFINE_ALLOCATION()</a> and <a class="el" href="fifo_8h.html#aae4ae108da38caa190f3f4a3f6919d5b">FIFO_FROM_ALLOCATION()</a> macros, to avoid dynamic memory allocation while still allowing variation in size between instances of the data type.</p>
<p>Invariants and policies:</p>
<ul>
<li><code>head</code> is equal to <code>tail</code> only when the FIFO is empty. </li>
<li><code>head+1</code> is equal to <code>tail</code> modulo <code>size</code> when the FIFO is full. </li>
<li>Values are added at the head, which then moves to the next cell. </li>
<li>Values are removed from the tail, which then moves to the next cell. </li>
<li>Newly-received values are retained in preference to older values when the buffer overflows.</li>
</ul>
<p>This data structure is intended to be shared between interrupt handlers and framework code. It probably should not be accessed directly by user code. The following operations are provided to help maintain the invariants above:</p>
<ul>
<li><a class="el" href="fifo_8h.html#ae17298965120bbe67294de80097d502e">fifo_reset</a> </li>
<li><a class="el" href="fifo_8h.html#a1a7b6241711fd37302f6a111e26c7518">fifo_length</a> </li>
<li><a class="el" href="fifo_8h.html#add8d6f1082b214dbeecea9d7af493b28">fifo_empty</a> </li>
<li><a class="el" href="fifo_8h.html#a23af0e1ea95b503003f574932eb2ac71">fifo_full</a> </li>
<li><a class="el" href="fifo_8h.html#a20d249e99d054a22862d14017f35b786">fifo_pop_tail</a> </li>
<li><a class="el" href="fifo_8h.html#a680f08e825bd52bf39572bc8609775af">fifo_push_head</a> </li>
<li><a class="el" href="fifo_8h.html#a08874dcb08ebf9feb18024e13c84673f">fifo_pop_into_buffer</a></li>
</ul>
<p>Although these inline functions perform common operations, for full efficiency it is sometimes necessary to manipulate the <code>head</code> and <code>tail</code> fields directly. The fields that are expected to be read and written by both interrupt handlers and framework code are marked volatile to ensure they are not cached inappropriately. Nonetheless, all changes to the volatile fields of this structure must be done in a context that inhibits external modifications. As an optimization, framework code executed with interrupts off may use local cached variables holding <code>head</code> or <code>tail</code> while performing operations that involve multiple cells of the buffer, so long as the final values are written back to the structure before interrupts are re-enabled. Be sure to satisfy the data structure invariants when writing such code. </p>
</div><h2 class="groupheader">Field Documentation</h2>
<a class="anchor" id="a80020eb96c286114b0d1786ad565d8fe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint8_t sFIFO::cell[]</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The <code>buffer</code> of the FIFO holds the values currently in the FIFO. </p>

</div>
</div>
<a class="anchor" id="a2d28ad8a22368fa28a8de9f49b9d91a5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint16_t sFIFO::head</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The <code>head</code> of the FIFO is the cell into which the next value to be stored will be written (things enter the head, and leave the tail). </p>

</div>
</div>
<a class="anchor" id="a9dffbef44feb99505b98393820e33e8c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const uint16_t sFIFO::size</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The <code>size</code> of the FIFO is the number of cells that can store values. The <em>length</em> of the FIFO is the number of cells that currently store values. The relationship between length and size is 0 &lt;= length &lt; size. A fifo is empty with length is zero (head == tail); it is full when length == size-1 (the next cell after head is tail). </p>

</div>
</div>
<a class="anchor" id="a934091a75b0a7ca960c09a1104359da3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint16_t sFIFO::tail</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The <code>tail</code> of the FIFO is the cell holding the next value to be read. </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>include/bspacm/internal/utility/<a class="el" href="fifo_8h_source.html">fifo.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Apr 8 2014 21:05:53 for BSPACM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
