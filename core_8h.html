<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>BSPACM: include/bspacm/core.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">BSPACM
   &#160;<span id="projectnumber">20140327</span>
   </div>
   <div id="projectbrief">Board Support Package for ARM Cortex-M Microcontrollers</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_84644856a1893ae35ec50fa71777950a.html">bspacm</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a>  </div>
  <div class="headertitle">
<div class="title">core.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Common header included by all BSPACM leaf headers.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br/>
</div>
<p><a href="core_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aa62b35cf6685650b3c9a7b38699c6c0f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#aa62b35cf6685650b3c9a7b38699c6c0f">BSPACM_CORE_DISABLE_INTERRUPT</a>()&#160;&#160;&#160;__disable_irq()</td></tr>
<tr class="separator:aa62b35cf6685650b3c9a7b38699c6c0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab52275d819776e77d27303749a51965a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#ab52275d819776e77d27303749a51965a">BSPACM_CORE_ENABLE_INTERRUPT</a>()&#160;&#160;&#160;__enable_irq()</td></tr>
<tr class="separator:ab52275d819776e77d27303749a51965a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a756afbc2b8e4b3e0ebf69e42bd3468"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#a9a756afbc2b8e4b3e0ebf69e42bd3468">BSPACM_CORE_SAVED_INTERRUPT_STATE</a>(var_)&#160;&#160;&#160;unsigned int const var_ = __get_PRIMASK()</td></tr>
<tr class="separator:a9a756afbc2b8e4b3e0ebf69e42bd3468"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7774eaf391d7ad86abce29d8f0542aab"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#a7774eaf391d7ad86abce29d8f0542aab">BSPACM_CORE_RESTORE_INTERRUPT_STATE</a>(var_)</td></tr>
<tr class="separator:a7774eaf391d7ad86abce29d8f0542aab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7281bb17c886941c500c4d545511f03"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#ac7281bb17c886941c500c4d545511f03">BSPACM_CORE_REENABLE_INTERRUPT</a>(var_)</td></tr>
<tr class="separator:ac7281bb17c886941c500c4d545511f03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d7c3e78ed005aa264211e43bf2a64c5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#a1d7c3e78ed005aa264211e43bf2a64c5">BSPACM_CORE_INLINE</a>&#160;&#160;&#160;__inline__</td></tr>
<tr class="separator:a1d7c3e78ed005aa264211e43bf2a64c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33aec9db511c37252fe188e680170085"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#a33aec9db511c37252fe188e680170085">BSPACM_CORE_INLINE_FORCED</a>&#160;&#160;&#160;<a class="el" href="core_8h.html#a1d7c3e78ed005aa264211e43bf2a64c5">BSPACM_CORE_INLINE</a> __attribute__((__always_inline__))</td></tr>
<tr class="separator:a33aec9db511c37252fe188e680170085"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a067cdbba9dbc1fb5b12afea1b3faa27f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#a067cdbba9dbc1fb5b12afea1b3faa27f">BSPACM_CORE_PACKED_STRUCT</a>(nm_)&#160;&#160;&#160;struct __attribute__((__packed__)) nm_</td></tr>
<tr class="separator:a067cdbba9dbc1fb5b12afea1b3faa27f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Common header included by all BSPACM leaf headers. </p>
<dl class="section user"><dt>Homepage</dt><dd><a href="http://github.com/pabigot/bspacm">http://github.com/pabigot/bspacm</a> </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright 2014, Peter A. Bigot. Licensed under <a href="http://www.opensource.org/licenses/BSD-3-Clause">BSD-3-Clause</a> </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="aa62b35cf6685650b3c9a7b38699c6c0f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSPACM_CORE_DISABLE_INTERRUPT</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;__disable_irq()</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gratuitous alternative spelling of standard CMSIS core intrinsic. </p>

</div>
</div>
<a class="anchor" id="ab52275d819776e77d27303749a51965a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSPACM_CORE_ENABLE_INTERRUPT</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;__enable_irq()</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gratuitous alternative spelling of standard CMSIS core intrinsic. </p>

</div>
</div>
<a class="anchor" id="a1d7c3e78ed005aa264211e43bf2a64c5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSPACM_CORE_INLINE&#160;&#160;&#160;__inline__</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Mark a function to be inlined.</p>
<p>Most toolchains support this feature, but the spelling of the request varies.</p>
<p>The toolchain is free to ignore the request, which is after all only the developer's expert opinion. When optimizing for size toolchains are likely to ignore this if more than one call site is in the translation unit.</p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="core_8h.html#a33aec9db511c37252fe188e680170085">BSPACM_CORE_INLINE_FORCED</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a33aec9db511c37252fe188e680170085"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSPACM_CORE_INLINE_FORCED&#160;&#160;&#160;<a class="el" href="core_8h.html#a1d7c3e78ed005aa264211e43bf2a64c5">BSPACM_CORE_INLINE</a> __attribute__((__always_inline__))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Insist that a function be inlined.</p>
<p>Use this when <a class="el" href="core_8h.html#a1d7c3e78ed005aa264211e43bf2a64c5">BSPACM_CORE_INLINE</a> is being ignored. Not all toolchains will support this; on those it should be treated as <a class="el" href="core_8h.html#a1d7c3e78ed005aa264211e43bf2a64c5">BSPACM_CORE_INLINE</a>. </p>

</div>
</div>
<a class="anchor" id="a067cdbba9dbc1fb5b12afea1b3faa27f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSPACM_CORE_PACKED_STRUCT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">nm_</td><td>)</td>
          <td>&#160;&#160;&#160;struct __attribute__((__packed__)) nm_</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Declare a packed structure in a toolchain-specific manner.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nm_</td><td>name of the structure to be declared</td></tr>
  </table>
  </dd>
</dl>
<p>This expands to <code>struct</code> <code>nm_</code> annotated with toolchain-specific directives to ensure the structure contents have no padding. It is used for binary messages that mix types which might normally require padding to maintain MCU-standard alignment. </p>

</div>
</div>
<a class="anchor" id="ac7281bb17c886941c500c4d545511f03"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSPACM_CORE_REENABLE_INTERRUPT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">var_</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> { \</div>
<div class="line">    if (! (1U &amp; var_)) {                          <a class="code" href="core_8h.html#ab52275d819776e77d27303749a51965a">\</a></div>
<div class="line"><a class="code" href="core_8h.html#ab52275d819776e77d27303749a51965a">      BSPACM_CORE_ENABLE_INTERRUPT</a>();             \</div>
<div class="line">    }                                             \</div>
<div class="line">  } <span class="keywordflow">while</span> (0)</div>
<div class="ttc" id="core_8h_html_ab52275d819776e77d27303749a51965a"><div class="ttname"><a href="core_8h.html#ab52275d819776e77d27303749a51965a">BSPACM_CORE_ENABLE_INTERRUPT</a></div><div class="ttdeci">#define BSPACM_CORE_ENABLE_INTERRUPT()</div><div class="ttdef"><b>Definition:</b> core.h:69</div></div>
</div><!-- fragment --><p>If interrupts were enabled when <code>var_</code> was declared (generally by <a class="el" href="core_8h.html#a9a756afbc2b8e4b3e0ebf69e42bd3468">BSPACM_CORE_SAVED_INTERRUPT_STATE()</a>), then enable them; otherwise leave them in their current state. </p>

</div>
</div>
<a class="anchor" id="a7774eaf391d7ad86abce29d8f0542aab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSPACM_CORE_RESTORE_INTERRUPT_STATE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">var_</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> { \</div>
<div class="line">    if (1U &amp; var_) {                                   <a class="code" href="core_8h.html#aa62b35cf6685650b3c9a7b38699c6c0f">\</a></div>
<div class="line"><a class="code" href="core_8h.html#aa62b35cf6685650b3c9a7b38699c6c0f">      BSPACM_CORE_DISABLE_INTERRUPT</a>();                 \</div>
<div class="line">    } <span class="keywordflow">else</span> {                                           <a class="code" href="core_8h.html#ab52275d819776e77d27303749a51965a">\</a></div>
<div class="line"><a class="code" href="core_8h.html#ab52275d819776e77d27303749a51965a">      BSPACM_CORE_ENABLE_INTERRUPT</a>();                  \</div>
<div class="line">    }                                                  \</div>
<div class="line">  } <span class="keywordflow">while</span> (0)</div>
<div class="ttc" id="core_8h_html_aa62b35cf6685650b3c9a7b38699c6c0f"><div class="ttname"><a href="core_8h.html#aa62b35cf6685650b3c9a7b38699c6c0f">BSPACM_CORE_DISABLE_INTERRUPT</a></div><div class="ttdeci">#define BSPACM_CORE_DISABLE_INTERRUPT()</div><div class="ttdef"><b>Definition:</b> core.h:65</div></div>
<div class="ttc" id="core_8h_html_ab52275d819776e77d27303749a51965a"><div class="ttname"><a href="core_8h.html#ab52275d819776e77d27303749a51965a">BSPACM_CORE_ENABLE_INTERRUPT</a></div><div class="ttdeci">#define BSPACM_CORE_ENABLE_INTERRUPT()</div><div class="ttdef"><b>Definition:</b> core.h:69</div></div>
</div><!-- fragment --><p>Restore the interrupt enable state to what it was when <code>var_</code> was assigned. This will invoke either <a class="el" href="core_8h.html#ab52275d819776e77d27303749a51965a">BSPACM_CORE_ENABLE_INTERRUPT()</a> or <a class="el" href="core_8h.html#aa62b35cf6685650b3c9a7b38699c6c0f">BSPACM_CORE_DISABLE_INTERRUPT()</a>. You may want <a class="el" href="core_8h.html#ac7281bb17c886941c500c4d545511f03">BSPACM_CORE_REENABLE_INTERRUPT()</a> instead. </p>

</div>
</div>
<a class="anchor" id="a9a756afbc2b8e4b3e0ebf69e42bd3468"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSPACM_CORE_SAVED_INTERRUPT_STATE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">var_</td><td>)</td>
          <td>&#160;&#160;&#160;unsigned int const var_ = __get_PRIMASK()</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Declare and initialize a const variable that records whether interrupts are disabled. The value is the PRIMASK register.</p>
<dl class="section note"><dt>Note</dt><dd>This macro expands to a variable definition with an initializer expression, so must be placed in an appropriate context.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">var_</td><td>an identifier for a variable that will be defined to hold the value of the PRIMASK register at the point of definition. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Mar 29 2014 06:26:08 for BSPACM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
